---
import BlogCard from '@components/BlogCard.astro'
import Card from '@components/Blog/Card.astro'
import SnippetCard from '@components/SnippetCard.astro'
import { Icon } from 'astro-icon'
import Main from '@layouts/Main.astro'
import { getCollection } from 'astro:content'
import SectionHeading from '@components/SectionHeading.astro'

const icons = [
	'simple-icons:svelte',
	'mdi:language-typescript',
	'mdi:language-javascript',
	'mdi:language-csharp',
	'ri:reactjs-line',
	'simple-icons:astro',
	'mdi:language-python'
]

async function getSnippets() {
	const snippetEntries = await getCollection('snippets')
	return snippetEntries
}

const snippets = await getSnippets()
---

<Main title="Ashfid">
	<div class="space-y-4">
		<!-- Header content -->
		<section class="space-y-3 rounded-md bg-primary-light px-5 py-5">
			<h1 class="text-2xl font-extrabold">
				Hello All <span>&#128075;</span>
			</h1>
			<p>
				Well, this site is for sharing what I studied all these years related to software and web
				development. I really enjoy helping every developer to simplify their experience and not
				everything is about overengineering something.
			</p>
		</section>

		<!-- Featured Posts -->
		<!-- <section id="featured-posts" class="space-y-4">
			<h1 class="text-2xl font-semibold">
				<span class="text-accent text-4xl"
					>Featured</span
				>
				Posts
			</h1>
			<div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
				<BlogCard type="react" />
				<BlogCard />
				<BlogCard type="unity" />
			</div>
			<span class="text-primary-lighter">Read All Posts (24) &#8594;</span
			>
		</section> -->

		<!-- Featured Posts (New!) -->
		<section id="featured-posts" class="space-y-4">
			<SectionHeading title="Featured Posts" />
			<div class="grid grid-cols-1 gap-1">
				<!-- <Card type="svelte" />
				<Card type="react" />
				<Card type="unity" /> -->
			</div>
			<span class="text-primary-lighter">Read All Posts (24) &#8594;</span>
		</section>

		<!-- Featured Snippets -->
		<section id="featured-snippets" class="space-y-4">
			<SectionHeading title="Featured Snippets" />
			<div class="grid grid-cols-1 gap-2 lg:gap-4">
				{
					snippets.map((snippet) => {
						const href = `/snippets/${snippet.slug}`

						return <Card title={snippet.data.title} type="svelte" href={href} />
					})
				}
			</div>
		</section>

		<!-- Things I know.  -->
		<section id="things-i-know" class="space-y-4">
			<SectionHeading title="Things I know" />
			<div class="flex flex-wrap gap-2">
				{
					icons.map((icon) => (
						<div class="group bg-primary-light p-2">
							<Icon
								name={icon}
								class="h-12 w-12 opacity-50 transition-transform duration-150 ease-linear group-hover:-translate-y-4 group-hover:opacity-80"
							/>
						</div>
					))
				}
			</div>
		</section>
	</div>
</Main>
