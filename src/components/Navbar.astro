---
import { Icon } from "astro-icon";
import ThemeToggler from "./ThemeToggler.svelte";

const menus = [
  {
    name: "Home",
    icon: "ri:home-5-fill",
    href: "/",
  },
  {
    name: "Blog",
    icon: "ri:book-2-fill",
    href: "/blog",
  },
  {
    name: "Snippets",
    icon: "ri:treasure-map-fill",
    href: "/snippets",
  },
  {
    name: "Uses",
    icon: "ri:computer-fill",
    href: "/uses",
  },
];

const settings = [
  {
    name: "Theme",
    icon: "ri:paint-fill",
    component: "listbox",
  },
  {
    name: "Sound",
    icon: "ri:music-fill",
    component: "checkbox",
  },
  {
    name: "Layout",
    icon: "ri:layout-column-fill",
    component: "checkbox",
  },
];

const utilities = [
  {
    name: "RSS",
    icon: "ri:rss-fill",
  },
  {
    name: "Sitemap",
    icon: "ri:organization-chart",
  },
  {
    name: "Search",
    icon: "ri:search-2-fill",
  },
];
---

<div class="p-4 border-r-2 bg-primary-light flex flex-col justify-between w-64">
  <!-- Navbar -->
  <nav class="flex flex-col gap-4">
    <!-- Logo -->
    <h1 class="text-gradient text-5xl font-extrabold text-center lowercase">
      Ashfid
    </h1>

    <!-- Navigation Links -->
    <section>
      <h6 class="text-slate-500">Menu</h6>
      <ul class="flex flex-col gap-[0.375rem]">
        {
          menus.map((menu) => (
            <li>
              <a
                href={menu.href}
                class:list={[
                  "flex items-center gap-[0.375rem] p-[0.375rem] rounded-md spacing-x-2 transition-colors duration-300",
                  {
                    "bg-accent font-semibold": menu.href === Astro.url.pathname,
                    "hover:bg-accent-light": menu.href !== Astro.url.pathname,
                  },
                ]}
              >
                <Icon name={menu.icon} class="w-6" />
                <span>{menu.name}</span>
              </a>
            </li>
          ))
        }
      </ul>
    </section>
    <!-- Settings -->
    <section>
      <h6 class="text-slate-500">Settings</h6>
      <ul class="flex flex-col gap-[0.375rem]">
        {
          settings.map(({ icon, name, component }) => (
            <li class="flex justify-between items-center">
              {component == "listbox" && (
                <ThemeToggler client:load>
                  <Icon name={icon} slot="icon" class="w-6" />
                </ThemeToggler>
              )}
              {component == "checkbox" && (
                <div class="flex justify-between items-center p-[0.375rem] w-full">
                  <div class="flex gap-[0.375rem]">
                    <Icon name={icon} class="w-6" />
                    <span>{name}</span>
                  </div>

                  <input
                    type="checkbox"
                    class="checked:accent-accent w-4 cursor-pointer"
                  />
                </div>
              )}
            </li>
          ))
        }
      </ul>
    </section>
    <!-- Utilities -->
    <section>
      <h6 class="text-slate-500">Utilities</h6>
      <ul class="flex flex-col gap-[0.375rem]">
        {
          utilities.map((utility) => (
            <li class="flex gap-[0.375rem] p-[0.375rem]">
              <Icon name={utility.icon} class="w-6" />
              {utility.name}
            </li>
          ))
        }
      </ul>
    </section>
  </nav>
  <!-- Footer -->
  <footer>11:27 PM</footer>
</div>
