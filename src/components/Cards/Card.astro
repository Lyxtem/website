---
import Icon from 'astro-icon'
import { getEntry, type CollectionEntry, getEntries } from 'astro:content'

interface Props {
	snippet: CollectionEntry<'snippets'>
}

const { snippet } = Astro.props

const getCategories = await getEntry(snippet.data.category)
const mainCategory = getCategories
---

<a
	href={`/snippets/${snippet?.slug}`}
	data-type={mainCategory?.data.name}
	class="border-highlight hover:border-category-highlight group flex items-center justify-between gap-4 rounded-md border-x-2 border-b-4 border-t-2 bg-card p-4 transition-colors"
>
	<div class="flex gap-2 transition-transform group-hover:translate-x-4">
		<!-- Icon for Post -->
		<div class="bg-category rounded-md p-1" transition:name={snippet?.data.title}>
			<Icon name={mainCategory?.data.icon} class="w-4 group-hover:animate-bounce" />
		</div>
		<h2 class="text-base tracking-wide">{snippet?.data.title}</h2>
	</div>
	<span class="text-datetime-text hidden font-mono md:block">26 June 2023</span>
</a>
