---
import Logo from './Logo.astro'
import { MobileLinks, Links } from './NavigationLinks'
import { Settings } from 'lucide-astro'

const pageName = Astro.url.pathname
---

<nav
	class="fixed bottom-0 left-0 z-[99999] mx-auto flex h-20 w-full max-w-[1160px] items-center justify-between gap-4 border-t-4 border-primary-lighter bg-primary-light sm:flex-col sm:items-start md:static md:h-auto md:p-4"
>
	<div class="hidden md:block">
		<Logo />
	</div>
	<ul class="hidden gap-4 font-mono md:flex">
		{
			Links.map((link) => (
				// @ts-ignore
				<li>
					<a
						href={link.url}
						class="flex items-center gap-2 text-base"
						aria-current={pageName === link.url ? 'page' : ''}
					>
						<link.icon />
						{link.name}
					</a>
				</li>
			))
		}
	</ul>

	<!-- Mobile Navigation Bar -->
	<ul class="flex w-full items-center gap-4 p-4 font-mono md:hidden">
		{
			MobileLinks.map((link) => (
				<li class="flex-grow">
					<a href={link.url} class="flex flex-col items-center gap-2 ">
						<link.icon />
						{link.name}
					</a>
				</li>
			))
		}
		<li class="flex-grow">
			<button class="group flex w-full flex-grow flex-col items-center gap-2">
				<Settings class="group-hover:text-accent-lighter" />
				 Settings
			</button>
		</li>
	</ul>
</nav>

<style>
	a[aria-current='page'] {
		position: relative;
		font-weight: bold;
	}

	a[aria-current='page'] svg {
		color: var(--color-accent-lighter);
		@apply animate-bounce;
		view-transition-name: current-page-icon;
	}

	a:not([aria-current='page']):hover svg {
		color: var(--color-accent-lighter);
	}

	/* li[aria-current='page']::before {
		content: '';
		position: absolute;
		background-color: var(--color-accent);
		bottom: 0;
		right: 0;
		left: 0;
		height: 2px;
		view-transition-name: current-page;
	} */
</style>
